"use strict";const G_L=new LangData("mailacc-lang");function mailacc_Add_input_SuffixDomain_OnInput(a,e){if(!params_Validate(e,"e",2))return;const c=document.getElementById(e[0]),l=document.getElementById(e[1]);c&&l&&(l.textContent=a.target.value+"@"+c.value)}async function mailacc_Add_Confirm(a,e){const c=new PrepData(9);let l=!1;if(c.prepareValue(0,"#mailacc-add-domain",!0,G_L.raw("domain")+" "+G_L.raw("is required"))||(l=!0),c.prepareValue(1,"#mailacc-add-account",!0,G_L.raw("account")+" "+G_L.raw("is required"))||(l=!0),c.prepareValue(2,"#mailacc-add-pass",!0,G_L.raw("password")+" "+G_L.raw("is required"))||(l=!0),l)return;c.prepareValue(3,"#mailacc-add-quota",!1,""),c.prepareValue(4,"#mailacc-add-alias",!1,""),c.prepareValue(5,"#mailacc-add-fwd",!1,""),c.prepareChecked(6,"#mailacc-add-fwdonly"),c.prepareChecked(7,"#mailacc-add-autoreply"),c.prepareValue(8,"#mailacc-add-autoreply-msg",!1,"");const i="mailacc-add-confirm",t=new ButtonState(i),n=await fetchText_Post("/mailacc/?a="+i,c.arr.join(" "));t.restore(),isFetchedOk(n,"/mailacc/")}async function mailacc_Edit_Confirm(a,e){const c=new PrepData(9);let l=!1;if(c.prepareValue(0,"#mailacc-edit-domain",!0,G_L.raw("domain")+" "+G_L.raw("is required"))||(l=!0),c.prepareValue(1,"#mailacc-edit-account",!0,G_L.raw("account")+" "+G_L.raw("is required"))||(l=!0),l)return;c.prepareValue(2,"#mailacc-edit-pass",!1,""),c.prepareValue(3,"#mailacc-edit-quota",!1,""),c.prepareValue(4,"#mailacc-edit-alias",!1,""),c.prepareValue(5,"#mailacc-edit-fwd",!1,""),c.prepareChecked(6,"#mailacc-edit-fwdonly"),c.prepareChecked(7,"#mailacc-edit-autoreply"),c.prepareValue(8,"#mailacc-edit-autoreply-msg",!1,"");const i="mailacc-edit-confirm",t=new ButtonState(i),n=await fetchText_Post("/mailacc/?a="+i,c.arr.join(" "));t.restore(),isFetchedOk(n,"/mailacc/")}common_listeners(),listener_AddSingleById("mailacc-edit","click","keyup","Enter",table_OnButtonClick_Router,"tbl-mailacc","/mailacc/?a=mailacc-edit&mailacc=",""),listener_AddSingleById("mailacc-on","click","keyup","Enter",table_RunPostOnButtonClick_MultiRouter,"tbl-mailacc","/mailacc/?a=mailacc-on","/mailacc/",""),listener_AddSingleById("mailacc-off","click","keyup","Enter",table_RunPostOnButtonClick_MultiRouter,"tbl-mailacc","/mailacc/?a=mailacc-off","/mailacc/",""),listener_AddSingleById("mailacc-delete-wnd","click","keyup","Enter",table_openDeleteWnd,"tbl-mailacc","/mailacc/?a=mailacc-delete","/mailacc/",G_L.esc("Delete")+" "+G_L.esc("mail accounts"),G_L.esc("Next items will be deleted"),G_L.esc("Confirm"),null),listener_AddSingleById("mailacc-add-account","input",null,null,mailacc_Add_input_SuffixDomain_OnInput,"mailacc-add-domain","mailacc-add-account-eff"),listener_AddSingleById("mailacc-add-pass-gen","click",null,null,button_passwordGen,"mailacc-add-pass"),listener_AddSingleById("mailacc-add-pass-vis","click",null,null,button_togglePasswordVisible,"mailacc-add-pass"),listener_AddSingleById("mailacc-add-confirm","click","keyup","Enter",mailacc_Add_Confirm),listener_AddSingleById("mailacc-edit-pass-gen","click",null,null,button_passwordGen,"mailacc-edit-pass"),listener_AddSingleById("mailacc-edit-pass-vis","click",null,null,button_togglePasswordVisible,"mailacc-edit-pass"),listener_AddSingleById("mailacc-edit-confirm","click","keyup","Enter",mailacc_Edit_Confirm),listeners_Add("table.tbl-fixed tbody","tr","mouseup",null,null,table_OnClickRouter,"/mailacc/?a=mailacc-edit&mailacc="),listener_AddSingleById("mailacc-name-sort","click",null,null,table_Sort,"/mailacc/","mailacc-table-sort","sort-name-az,sort-name-za,sort-domain-az,sort-domain-za"),listener_AddSingleById("mailaccs-checkbox-header","mouseup",null,null,table_SetAllCheckboxes,"table#tbl-mailacc tbody tr td .checkbox-simple-cntr input[type=checkbox]"),listeners_Add(null,".pageidx","click",null,null,table_SelectPage,"mailacc-table-page","/mailacc/"),listener_AddSingleById("mailacc-table-setting","click","keyup","Enter",tableSetting_Modal_OpenWnd,JSON.stringify({id:"mailacc-table-setting",cookie:"mailacc-table-setting",path:"/mailacc/",titles:[G_L.esc("Settings"),G_L.esc("Number of rows"),G_L.esc("custom"),G_L.esc("Confirm")],values:[1,2,4,8,16],names:["email","aliases","autoreply","fwd","quota"],labels:["email",G_L.esc("aliases"),G_L.esc("autoreply"),G_L.esc("forward to"),G_L.esc("quota")]}));
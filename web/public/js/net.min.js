"use strict";const G_L=new LangData("net-lang");async function net_Add_Confirm(e,t){const n=new PrepData(5);let r=!1;if(n.prepareValue(0,"#net-add-ipcidr",!0,G_L.raw("ip address")+" "+G_L.raw("is required"))||(r=!0),n.prepareValue(1,"#net-add-iface",!0,G_L.raw("network interface")+" "+G_L.raw("is required"))||(r=!0),r)return;n.prepareValue(2,"#net-add-nat",!1,""),n.prepareRadio(3,["#net-add-role-shared","#net-add-role-dedicated"]);let i=[];const a=document.querySelectorAll("[id^=net-add-user-]");if(a)for(const e of a)e&&e.checked&&""!=e.value&&i.push(e.value);n.prepareString(4,i.join(","));const d="net-add-confirm",l=new ButtonState(d),s=await fetchText_Post("/net/?a="+d,n.arr.join(" "));l.restore(),isFetchedOk(s,"/net/")}async function net_Edit_Confirm(e,t){const n=new PrepData(5);let r=!1;if(n.prepareValue(0,"#net-edit-ipcidr",!0,G_L.raw("ip address")+" "+G_L.raw("is required"))||(r=!0),n.prepareValue(1,"#net-edit-iface",!0,G_L.raw("network interface")+" "+G_L.raw("is required"))||(r=!0),r)return;n.prepareValue(2,"#net-edit-nat",!1,""),n.prepareRadio(3,["#net-edit-role-shared","#net-edit-role-dedicated"]);let i=[];const a=document.querySelectorAll("[id^=net-edit-user-]");if(a)for(const e of a)e&&e.checked&&""!=e.value&&i.push(e.value);n.prepareString(4,i.join(","));const d="net-edit-confirm",l=new ButtonState(d),s=await fetchText_Post("/net/?a="+d,n.arr.join(" "));l.restore(),isFetchedOk(s,"/net/")}common_listeners(),listener_AddSingleById("net-edit","click","keyup","Enter",table_OnButtonClick_Router,"tbl-net","/net/?a=net-edit&net=",""),listener_AddSingleById("net-delete-wnd","click","keyup","Enter",table_openDeleteWnd,"tbl-net","/net/?a=net-delete","/net/",G_L.esc("Delete")+" "+G_L.esc("ip addresses"),G_L.esc("Next items will be deleted"),G_L.esc("Confirm"),'<p class="d-block m-t1 m-b1 c-redlight f-1">'+G_L.esc("make sure that atleast one ip is active, also check firewall, the server and panel might become unavailable!")+"</p>\n"),listener_AddSingleById("net-add-confirm","click","keyup","Enter",net_Add_Confirm),listener_AddSingleById("net-edit-confirm","click","keyup","Enter",net_Edit_Confirm),listeners_Add("table.tbl-fixed tbody","tr","mouseup",null,null,table_OnClickRouter,"/net/?a=net-edit&net="),listener_AddSingleById("net-ip-sort","click",null,null,table_Sort,"/net/","net-table-sort","sort-no,sort-ip-az,sort-ip-za"),listener_AddSingleById("nets-checkbox-header","mouseup",null,null,table_SetAllCheckboxes,"table#tbl-net tbody tr td .checkbox-simple-cntr input[type=checkbox]"),listeners_Add(null,".pageidx","click",null,null,table_SelectPage,"net-table-page","/net/"),listener_AddSingleById("net-table-setting","click","keyup","Enter",tableSetting_Modal_OpenWnd,JSON.stringify({id:"net-table-setting",cookie:"net-table-setting",path:"/net/",titles:[G_L.esc("Settings"),G_L.esc("Number of rows"),G_L.esc("custom"),G_L.esc("Confirm")],values:[1,2,4,8],names:["ipaddress","cidrsize","nataddress","role"],labels:[G_L.esc("ip address"),G_L.esc("cidr size"),G_L.esc("nat address"),G_L.esc("role")]}));